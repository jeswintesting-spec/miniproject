<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sports Hub</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; }
</style>
</head>
<body class="bg-gray-50 text-gray-800">

<!-- Header -->
<header class="bg-white shadow-md sticky top-0 z-50">
<nav class="container mx-auto px-6 py-3 flex justify-between items-center">
<a href="../backkk.html" class="text-2xl font-bold text-teal-600 hover:text-teal-700">Sports Hub</a>
</nav>
</header>

<!-- Notifications -->
<section id="notifications" class="container mx-auto px-6 py-10">
<h2 class="text-2xl font-bold text-teal-700 mb-6">Latest Notifications</h2>
<div id="notificationsList" class="bg-white rounded-2xl shadow p-6 space-y-4">
<!-- Notifications will load here -->
</div>
</section>

<!-- Events -->
<section id="events" class="bg-gray-100 py-10">
<div class="container mx-auto px-6">
<h2 class="text-2xl font-bold text-teal-700 mb-6">Upcoming Events</h2>
<div id="eventsList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
<!-- Events will load here -->
</div>
</div>
</section>

<footer class="bg-white shadow-inner py-6 mt-10">
<div class="container mx-auto px-6 text-center text-gray-600">
© 2025 ChillSpot CUCEK
</div>
</footer>

<script>
async function loadData() {
    // Load Notifications
    let notifDiv = document.getElementById("notificationsList");
    notifDiv.innerHTML = "";
    try {
        let notifRes = await fetch('api.php?action=notifications');
        let notifications = await notifRes.json();
        notifications.forEach(n => {
            notifDiv.innerHTML += `<div class="border-l-4 border-teal-600 pl-4">${n.message}</div>`;
        });
    } catch (err) {
        notifDiv.innerHTML = "<div class='text-red-500'>Failed to load notifications</div>";
    }

    // Load Events
    let eventDiv = document.getElementById("eventsList");
    eventDiv.innerHTML = "";
    try {
        let eventRes = await fetch('api.php?action=events');
        let events = await eventRes.json();
        events.forEach(ev => {
            eventDiv.innerHTML += `
            <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-semibold text-gray-800">${ev.title}</h3>
                <p class="text-gray-600 mt-2">📍 Location: ${ev.location}</p>
                <p class="text-gray-600">📅 Date: ${ev.date}</p>
                <p class="text-gray-600">🕒 Time: ${ev.time}</p>
            </div>`;
        });
    } catch (err) {
        eventDiv.innerHTML = "<div class='text-red-500'>Failed to load events</div>";
    }
}

document.addEventListener("DOMContentLoaded", loadData);
</script>

</body>
</html>
